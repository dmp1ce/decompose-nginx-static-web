DECOMPOSE_PROCESSES=( 'env' 'start_nginx_proxy' )

_decompose-process-env() {
  echo "$PROJECT_ENVIRONMENT"
  echo "PRODUCTION: $PRODUCTION"
  echo "DEVELOPMENT: $DEVELOPMENT"
}
_decompose-process-env_help() {
  echo "  Show environment setting"
}

_decompose-process-start_nginx_proxy() {
  # TODO: Also search for 'nginx-proxy' label
  docker run --label "nginx_proxy" -d -p 80:80 -p 443:443 -e DEFAULT_HOST="$PROJECT_NGINX_DEFAULT_HOST"  -v /var/run/docker.sock:/tmp/docker.sock:ro jwilder/nginx-proxy
}
_decompose-process-start_nginx_proxy_help() {
  echo "  Start nginx-proxy which can host multiple sites"
}

# vim:syntax=sh
